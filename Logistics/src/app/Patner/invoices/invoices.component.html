<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6">Order Invoices</h1>

  <!-- Search Bar -->
  <div class="mb-4">
    <input
      type="text"
      [(ngModel)]="searchQuery"
      (input)="onSearch()"
      class="border rounded-lg p-2 w-full"
      placeholder="Search by Order ID, Invoice URL, or Order Date"
    />
  </div>

  <div class="overflow-x-auto bg-white rounded-lg shadow-md">
    <table class="min-w-full table-auto">
      <thead>
        <tr class="bg-gray-100 text-left">
          <th class="px-4 py-2 text-sm font-semibold text-gray-700">Order ID</th>
          <th class="px-4 py-2 text-sm font-semibold text-gray-700">Invoice URL</th>
          <th class="px-4 py-2 text-sm font-semibold text-gray-700">Order Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of paginatedOrders" class="border-t hover:bg-gray-50">
          <td class="px-4 py-2 text-sm text-gray-900">{{ order._id }}</td>
          <td class="px-4 py-2 text-sm text-blue-500">
            <a [href]="order.invoiceUrl" target="_blank" class="underline">View Invoice</a>
          </td>
          <td class="px-4 py-2 text-sm text-gray-600">{{ order.orderDate | date: 'short' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination Controls -->
  <div class="flex justify-center items-center mt-4">
    <button
      class="px-4 py-2 mx-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"
      [disabled]="currentPage === 1"
      (click)="onPageChange(currentPage - 1)"
    >
      Previous
    </button>
    <span class="px-4 py-2 text-gray-700">
      Page {{ currentPage }} of {{ totalPages }}
    </span>
    <button
      class="px-4 py-2 mx-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"
      [disabled]="currentPage === totalPages"
      (click)="onPageChange(currentPage + 1)"
    >
      Next
    </button>
  </div>
</div>
